<!-- TOC -->

- [volatile型变量](#volatile型变量)
  - [保证可见性](#保证可见性)
  - [Reference](#reference)

<!-- /TOC -->
# volatile型变量

- 关键字volatile是Java虚拟机提供的最轻量级的同步机制；
- volatile具有两种特性
  - 保证此变量对所有线程的可见性；
  - 禁止指令重排序优化；

## 保证可见性

- 保证此变量对所有线程的可见性，即一条线程修改变量值后新值对于其他线程来说是可见的；
- volatile不能保证原子性，导致volatile变量的运算在并发下一样是不安全的；

- 使用volatile并发控制需要满足两条规则
  - 运算结果并不依赖变量的当前值，或者能够确保只有单一的线程修改变量的值；
  - 变量不需要与前面的状态变量共同参与不变约束；





## Reference

周志明.深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）机械工业出版社

